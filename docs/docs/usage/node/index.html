<!DOCTYPE html>
<html lang="en" class="h-100">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Using in Node - React JSON Form</title>
    <meta name="description" content="react-json-form docs, live demos and playground">
    <link rel="icon" type="image/x-icon" href="/react-json-form/favicon.ico">
    <link rel="apple-touch-icon" href="/react-json-form/apple-touch-icon.png" sizes="180x180">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/react-json-form/static/css/docs.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet"> 
    
</head>

<body class="d-flex flex-column h-100">
<div class="flex-grow-1 flex-shrink-0">
    <div class="top-nav">
        <div class="container-xl">
            <div class="row">
                <div class="col-12 col-sm-3">
                    <a href="/react-json-form/" class="d-inline-block">
                        <img src="/react-json-form/static/img/logo.svg" alt="React JSON Form" class="logo">
                    </a>
                    <button id="topNavToggler" class="hamburger d-sm-none float-right" type="button">
                        <span class="hamburger-box">
                            <span class="hamburger-inner"></span>
                        </span>
                    </button>
                </div>
                <div class="col-12 col-sm-9 d-none d-sm-block top-nav-menu" id="topNavMenu">
                    <nav class="nav nav-pills justify-content-end">
                        <a href="/react-json-form/" class="nav-link">
                            Home
                        </a>
                        <a href="/react-json-form/docs/" class="nav-link active">
                            Docs
                        </a>
                        <a href="/react-json-form/docs/install/" class="nav-link d-sm-none">
                            Install
                        </a>
                        <a href="/react-json-form/docs/usage/node/" class="nav-link active d-sm-none">
                            Using in Node
                        </a>
                        <a href="/react-json-form/docs/usage/browser/" class="nav-link d-sm-none">
                            Using in Browser
                        </a>
                        <a href="/react-json-form/docs/schema/" class="nav-link d-sm-none">
                            Schema
                        </a>
                        <a href="/react-json-form/docs/developing/" class="nav-link d-sm-none">
                            Developing
                        </a>
                        <a href="/react-json-form/playground/" class="nav-link">
                            Playground
                        </a>
                        <a href="https://github.com/bhch/react-json-form" class="nav-link">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
                            Github
                        </a>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <div class="page-heading text-center">
        <h1>USING IN NODE</h1>
    </div>

    <div class="container-xl">
       
<div class="row mt-4">
    <div class="sidebar-container col-12 col-sm-3 d-none d-sm-block">
        <div class="sidebar sticky-top">
            <div class="toc">
                <ul class="nav nav-pills flex-column pt-2">
                    
                        <li class="nav-item">
                            <a href="/react-json-form/docs/install/" class="nav-link">Install</a>
                        </li>
                    
                        <li class="nav-item">
                            <a href="/react-json-form/docs/usage/node/" class="nav-link active">Using in Node</a>
                        </li>
                    
                        <li class="nav-item">
                            <a href="/react-json-form/docs/usage/browser/" class="nav-link">Using in Browser</a>
                        </li>
                    
                        <li class="nav-item">
                            <a href="/react-json-form/docs/schema/" class="nav-link">Schema</a>
                        </li>
                    
                        <li class="nav-item">
                            <a href="/react-json-form/docs/developing/" class="nav-link">Developing</a>
                        </li>
                    
                </ul>
            </div>
        </div>
    </div>
    <div class="content col-12 col-sm-9 col-lg-7">
        <h2 id="basic-usage" tabindex="-1">Basic usage <a class="header-anchor" href="#basic-usage">#</a></h2>
<p><strong>React JSON Form</strong> delegates the state management to you. Your component is
responsible for saving the state.</p>
<h3 id="example-using-hooks" tabindex="-1">Example using hooks <a class="header-anchor" href="#example-using-hooks">#</a></h3>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span>ReactJSONForm<span class="token punctuation">,</span> EditorState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@bhch/react-json-form'</span><span class="token punctuation">;</span><br><br><br><span class="token keyword">const</span> <span class="token function-variable function">MyForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> <span class="token punctuation">[</span>editorState<span class="token punctuation">,</span> setEditorState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span><br>        EditorState<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">)</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token punctuation">(</span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ReactJSONForm</span></span><br>            <span class="token attr-name">editorState</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>editorState<span class="token punctuation">}</span></span><br>            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setEditorState<span class="token punctuation">}</span></span><br>        <span class="token punctuation">/></span></span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="example-using-class-component" tabindex="-1">Example using class component <a class="header-anchor" href="#example-using-class-component">#</a></h3>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span>ReactJSONForm<span class="token punctuation">,</span> EditorState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@bhch/react-json-form'</span><span class="token punctuation">;</span><br><br><br><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span><br>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span><br>            <span class="token literal-property property">editorState</span><span class="token operator">:</span> EditorState<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token function-variable function">handleFormChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">editorState</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">editorState</span><span class="token operator">:</span> editorState<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token punctuation">(</span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text"><br>                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ReactJSONForm</span></span><br>                    <span class="token attr-name">editorState</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>editorState<span class="token punctuation">}</span></span><br>                    <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleFormChange<span class="token punctuation">}</span></span><br>                <span class="token punctuation">/></span></span><span class="token plain-text"><br>            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>        <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h2 id="reactjsonform-api-reference" tabindex="-1"><code>ReactJSONForm</code> API reference <a class="header-anchor" href="#reactjsonform-api-reference">#</a></h2>
<h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props">#</a></h3>
<ul>
<li><code>editorState</code>: Instance of <a href="#editorstate-api-reference"><code>EditorState</code></a> containing the schema and data.</li>
<li><code>onChange</code>: Callback function for handling changes. This function will receive a new instance of
<code>EditorState</code> (because <code>EditorState</code> is immutable, instead of modifying the previous instance, we
replace it with a new one).</li>
<li><code>fileHandler</code>: A URL to a common file handler endpoint for all file input fields.</li>
<li><code>fileHandlerArgs</code> (<em>Optional</em>): Key-value pairs which will be sent via querystring to the <code>fileHandler</code> URL.</li>
<li><code>errorMap</code>: An object containing error messages for input fields. <a href="#data-validation">See data validation section</a>
for more.</li>
</ul>
<p><em>Changed in version 2.1</em>: <code>errorMap</code> prop was added.</p>
<h2 id="editorstate-api-reference" tabindex="-1"><code>EditorState</code> API reference <a class="header-anchor" href="#editorstate-api-reference">#</a></h2>
<p><code>EditorState</code> must be treated as an immutable object. If you want to make any
changes to the state, such as updating the schema, or changing the data, you
must do it by calling the methods provided by <code>EditorState</code>.</p>
<p>Always avoid directly mutating the <code>EditorState</code> object.</p>
<h3 id="static-methods" tabindex="-1">Static methods <a class="header-anchor" href="#static-methods">#</a></h3>
<h5 id="editorstate.create(schema%2C-data)" tabindex="-1"><code>EditorState.create(schema, data)</code> <a class="header-anchor" href="#editorstate.create(schema%2C-data)">#</a></h5>
<p><strong>Returns</strong>: New <code>EditorState</code> instance.</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>schema</code>: Schema for the form. It can either be a JS <code>Object</code> or a JSON string.</li>
<li><code>data</code> <em>(Optional)</em>: Initial data for the form. It can either be a JS <code>Object</code>,
<code>Array</code>, or a JSON string.</li>
</ul>
<p>This method also tries to validate the schema and data and it will raise an exception
if in case the schema is invalid or the data structure doesn't match the given schema.</p>
<h5 id="editorstate.update(editorstate%2C-data)" tabindex="-1"><code>EditorState.update(editorState, data)</code> <a class="header-anchor" href="#editorstate.update(editorstate%2C-data)">#</a></h5>
<p><strong>Returns</strong>: New <code>EditorState</code> instance.</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>editorState</code>: Instance of <code>editorState</code>.</li>
<li><code>data</code>: Must be either a JS <code>Object</code> or <code>Array</code>. It can not be a JSON string.</li>
</ul>
<p>Use this method to update an existing <code>EditorState</code> with the given data.</p>
<p>Since, the <code>EditorState</code> object is considered immutable, it doesn't actually
modify the given <code>editorState</code>. Instead, it creates and return a new <code>EditorState</code>
instance.</p>
<p>This method is only for updating data. It doesn't do any validations to keep
updates as fast as possible.</p>
<p>If you want to update the schema, you must create a new state using
<code>EditorState.create()</code> method as that will also validate the schema and the data.</p>
<h3 id="instance-methods" tabindex="-1">Instance methods <a class="header-anchor" href="#instance-methods">#</a></h3>
<p>The following methods are available on an instance of <code>EditorState</code>.</p>
<h5 id="editorstate.getdata()" tabindex="-1"><code>EditorState.getData()</code> <a class="header-anchor" href="#editorstate.getdata()">#</a></h5>
<p>Use this method to get the current data of the form.</p>
<p>It will either return an <code>Array</code> or an <code>Object</code> depending upon the outermost <code>type</code>
declared in the schema.</p>
<h5 id="editorstate.getschema()" tabindex="-1"><code>EditorState.getSchema()</code> <a class="header-anchor" href="#editorstate.getschema()">#</a></h5>
<p>This method returns the schema.</p>
<h4 id="data-validation" tabindex="-1">Data validation <a class="header-anchor" href="#data-validation">#</a></h4>
<p><em>New in version 2.1</em></p>
<p><strong>React JSON Form</strong> comes with some basic data validator called <a href="#datavalidator-api-reference"><code>DataValidator</code></a>.
But you are free to validate the data however you want.</p>
<p>After the validation, you may also want to display error messages below the
input fields. For this purpose, the <code>ReactJSONForm</code> component accepts an <code>errorMap</code>
prop which is basically a mapping of field names in the data and error messages.</p>
<p>An <code>errorMap</code> looks like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> errorMap <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token string-property property">'name'</span><span class="token operator">:</span> <span class="token string">'This field is required'</span><span class="token punctuation">,</span><br><br>    <span class="token comment">// multiple error messages</span><br>    <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>        <span class="token string">'This field is required'</span><span class="token punctuation">,</span><br>        <span class="token string">'This value must be greater than 18'</span><br>    <span class="token punctuation">]</span><br><br>    <span class="token comment">// nested arrays and objects</span><br><br>    <span class="token comment">// first item in array</span><br>    <span class="token string-property property">'0'</span><span class="token operator">:</span> <span class="token string">'This is required'</span><span class="token punctuation">,</span><br><br>    <span class="token comment">// first item > object > property: name</span><br>    <span class="token string-property property">'0-name'</span><span class="token operator">:</span> <span class="token string">'This is required'</span><br><span class="token punctuation">}</span></code></pre>
<h5 id="datavalidator-api-reference" tabindex="-1"><code>DataValidator</code> API reference <a class="header-anchor" href="#datavalidator-api-reference">#</a></h5>
<h5 id="constructor" tabindex="-1">Constructor <a class="header-anchor" href="#constructor">#</a></h5>
<h5 id="new-datavalidator(schema)" tabindex="-1"><code>new DataValidator(schema)</code> <a class="header-anchor" href="#new-datavalidator(schema)">#</a></h5>
<p><strong>Returns</strong>: An instance of <code>DataValidator</code></p>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>schema</code>: Schema object (not JSON string).</li>
</ul>
<h5 id="instance-methods-1" tabindex="-1">Instance methods <a class="header-anchor" href="#instance-methods-1">#</a></h5>
<p>Following methods must be called form the instance of <code>DataValidator</code>.</p>
<h5 id="validatorinstance.validate(data)" tabindex="-1"><code>validatorInstance.validate(data)</code> <a class="header-anchor" href="#validatorinstance.validate(data)">#</a></h5>
<p><strong>Returns</strong>: A <em>validation</em> object containing these keys:</p>
<ul>
<li><code>isValid</code>: A boolean denoting whether the data is valid or not.</li>
<li><code>errorMap</code>: An object containing error messages for invalid data fields.</li>
</ul>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>data</code>: The data to validate against the <code>schema</code> provided to the constructor.</li>
</ul>
<p>Example:</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span>DataValidator<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@bhch/react-json-form'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> validator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataValidator</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> validation <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> isValid <span class="token operator">=</span> validation<span class="token punctuation">.</span>isValid<span class="token punctuation">;</span><br><span class="token keyword">const</span> errorMap <span class="token operator">=</span> validation<span class="token punctuation">.</span>errorMap<span class="token punctuation">;</span><br><br><span class="token keyword">if</span> <span class="token punctuation">(</span>isValid<span class="token punctuation">)</span><br>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">else</span><br>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Invalid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// pass the errorMap object to ReactJSONForm</span><br><span class="token comment">// and error messages will be displayed under</span><br><span class="token comment">// input fields</span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ReactJSONForm</span></span><br>    <span class="token attr-name">editorState</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span></span><br>    <span class="token attr-name">errorMap</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>errorMap<span class="token punctuation">}</span></span><br><span class="token punctuation">/></span></span></code></pre>

    </div>
</div>
    </div>
</div>

<div class="flex-grow-0 flex-shrink-1" style="margin-top: 200px;">
    <div class="footer">
        <div class="container-xl">
            <div class="row">
                <div class="col-4">
                    <img src="/react-json-form/static/img/logo.svg" alt="React JSON Form" class="logo">
                </div>
                <div class="col-8 text-right pt-3 footer-nav">
                    
                        <a href="https://github.com/bhch/react-json-form">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
                            View on Github
                        </a>
                    
                </div>
            </div>             
        </div>
    </div>
</div>

<script type="text/javascript">
    var topNavToggler = document.getElementById('topNavToggler');
    var topNavMenu = document.getElementById('topNavMenu');
    topNavToggler.addEventListener('click', function(e) {
        if (this.classList.contains('active')) {
            this.classList.remove('active');
            topNavMenu.classList.add('d-none');
        } else {
            this.classList.add('active');
            topNavMenu.classList.remove('d-none');
        }

    });
</script>


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-94030773-1"></script>
    <script type="text/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-94030773-1');
    </script>


</body>
</html>